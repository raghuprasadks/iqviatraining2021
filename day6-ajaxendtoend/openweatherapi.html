<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Weather API</title>
</head>
<body>
    <h1>Weather Report</h1>
    <input type="text" name="location" id="location" placeholder="Enter location">
    <button onclick="getWeather()">Submit</button>
    <div id="result"></div>
    <script>

function getWeather(){
        let location=document.getElementById("location").value;
        let key='384db1ce93218e20fd384d3016372238';
        console.log('location ',location);

      //  https://api.openweathermap.org/data/2.5/weather?q=bengaluru&appid=&units=metric
        let url = `https://api.openweathermap.org/data/2.5/weather?q=${location}&appid=${key}&units=metric`;
        console.log('url ',url);
        fetch(url)
        .then(response=>response.json())
        //.then(json=>console.log(json))
        .then(json=>displayWeather(json))
    }

    /**
      weatherinfo ={"coord":{"lon":77.6033,"lat":12.9762},
      "weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],
      "base":"stations",
      "main":{"temp":27.92,"feels_like":29.12,"temp_min":27.34,"temp_max":28.8,"pressure":935,"humidity":58},
      "visibility":10000,
      "wind":{"speed":5.14,"deg":270},
      "clouds":{"all":40},
      "dt":1627984313,
      "sys":{"type":2,"id":2017753,"country":"IN","sunrise":1627950929,"sunset":1627996560},
      "timezone":19800,
      "id":1277333,
      "name":"Bengaluru",
      "cod":200}
      
     * */

    function displayWeather(weatherinfo){
        name = weatherinfo.name;
        console.log('name ',name);
        lon=weatherinfo.coord.lon;
        lat=weatherinfo.coord.lat;
        temp=weatherinfo.main.temp;
        var data ="<ul>";
        data = data + "<li>Name :"+ name +"</li>"+ "<li>Lon :"+ lon +"</li>";
        data = data +"</ul>";
        document.getElementById("result").innerHTML=data;
    }
   </script>
</body>
</html>